---
title: "Register users"
slug: "/guides-new/user-registration"
keywords: [imx-wallets, imx-dx]
---

Registering a user means creating an Immutable X L2 user account for an Ethereum L1 account.

This enables the following:
* A user with an Ethereum L1 account now has an associated L2 account on Immutable X
* L1 users can [deposit](#) L1 assets to their L2 account
* An L2 user can transact on Immutable X (create orders, trade assets, transfer assets, etc.)
* An L2 user can [withdraw](#) their assets on L2 to their L1 account

User registration consists of two main steps:
1. Generating an L2 wallet for the user based on the keys of their L1 wallet
2. Registering the L1-L2 wallet pair (recording that the L1 and L2 wallets are associated with each other either)

### Off-chain, then on-chain registration
By default, Immutable's [registerUser](https://docs.x.immutable.com/reference#/operations/registerUser) endpoint first registers a user **off-chain**. This means that the L1-L2 wallet pair is recorded in an Immutable database. All transactions that the user performs on L2 are recorded against this registered L2 user, however, L1 is not yet aware of the wallet mapping.

Then, when the users performs a transaction that requires an update of the state of the corresponding L1 wallet (ie. withdrawing an NFT from the L2 wallet to the L1 wallet), the user is registered **on-chain**, which means recording the L1-L2 wallet pair on Ethereum (L1).

## How to register users using the Core SDK
### 1. Initialize the Core SDK
In order to use the Core SDK, you need to [initialize it](./get-started#getting-started-with-the-core-sdk).

### 2. Obtain the user's signature
Registering a user requires the user's signature, so your application will need to connect to user wallets. See the guide on [how to obtain user signatures](/docs/guides-new/user-signatures).

### 3. Register the user

#### Guides for:
* [Typescript Core SDK](#typescript-core-sdk)
* [Kotlin (JVM) Core SDK](#kotlin-jvm-core-sdk)
* [Swift Core SDK](#swift-core-sdk)
* [Golang Core SDK](#golang-core-sdk)

#### Typescript Core SDK

```ts
import { Workflows, getConfig } from '@imtbl/core-sdk';

// Sets up the Core SDK workflows
const coreSdkConfig = getConfig({
  // Example contract addresses
  coreContractAddress: '0x4527BE8f31E2ebFbEF4fCADDb5a17447B27d2aef',
  registrationContractAddress: '0x6C21EC8DE44AE44D0992ec3e2d9f1aBb6207D864',
  chainID: 3,
  basePath:  'https://api.ropsten.x.immutable.com',
});
const coreSdkWorkflows = new Workflows(coreSdkConfig);

// Registers the user
await coreSdkWorkflows.registerOffchain(walletConnection);
```

#### Kotlin (JVM) Core SDK

```kotlin
// Get L1 and L2 signers (see 'Obtaining user signatures' step)

// Register user
ImmutableXCore.registerOffchain(L1Signer, L2Signer)
```

#### Swift Core SDK

```swift
// Get L1 and L2 signers (see 'Obtaining user signatures' step)

// Register user
ImmutableXCore.registerOffchain(L1Signer, L2Signer)
```

#### Golang Core SDK
```go
// Add code sample
```

## How to register users using the Link SDK

See [Link.setup](https://docs.x.immutable.com/docs/link-setup) guide.
