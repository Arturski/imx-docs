---
title: "Generate signers"
slug: "/guides-new/generate-signers"
keywords: [imx-wallets, imx-dx]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

User signatures are required for certain types of operations on Immutable X. These are:
1. Transactions that update blockchain state
2. Operations that update Immutable X's databases that require user authorization for

#### Examples:
<table>
  <tbody>
    <tr>
      <th colspan="2">✅ Require user signatures</th>
      <th>❌ Do not require user signatures</th>
    </tr>
    <tr>
      <th>Transactions that update<br/>blockchain state</th>
      <th>Operations requiring user<br/>authorization</th>
      <th><a href="/docs/guides-new/get-data">Read-only operations</a></th>
    </tr>
    <tr>
      <td>
        <ul>
          <li>Creating an order</li>
          <li>Filling an order (creating a trade)</li>
          <li>Transferring assets between users</li>
          <li>Depositing assets on L2 (Immutable X)</li>
          <li>Withdrawing assets to L1 (Layer 1 Ethereum)</li>
        </ul>
      </td>
      <td>
        <ul>
          <li>Creating a project</li>
          <li>Registering a user off-chain</li>
        </ul>
      </td>
      <td>
        <ul>
          <li>Getting a list of all assets on Immutable X</li>
          <li>Getting the details (ie. metadata) of a particular asset</li>
          <li>Getting a list of all open orders</li>
          <li>Getting a list of historical trades</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

In order to get user signatures, applications can use "signers". These are abstractions of user accounts that can be used to sign transactions. A user's private key is required to generate them.

Ethereum (L1) signers are required to sign transactions on L1 (ie. depositing assets from the L1 wallet to the L2 one) and Stark (L2) signers are required to sign transactions on L2 (ie. creating an order on an L2 marketplace, transferring an asset to another user on L2).

### How do applications generate and use signers?
There are two ways to get signers in your application:
1. [Generate your own by obtaining and using the user's private keys](#generate-your-own-signers)
2. [Connect to a user's wallet application](#connect-to-users-wallets)

The first option, where an application obtains a user's private key directly, is risky because these keys allow anyone in possession of them full control of an account.

The second option provides an application with an interface to the user's account by prompting the user to connect with their wallet application (ie. mobile or browser wallet). Once connected the app can begin asking the user to sign transactions and messages without having to reveal their private key.

## Generate your own signers
Below are instructions on how to generate:
* Ethereum (L1) signers
* Stark (L2) private keys and signers using the Core SDK

:::caution
If you generate your own Stark private key, you will have to persist it. The key is randomly generated so **_cannot_** be deterministically re-generated.
:::

<Tabs>
  <TabItem value="typescript" label="Typescript Core SDK">
    Add description, if required.
    <br/><br/>

```ts
import { AlchemyProvider } from '@ethersproject/providers';
import { Wallet } from '@ethersproject/wallet';
import { generateStarkPrivateKey, createStarkSigner } from '@imtbl/core-sdk';

// Create Ethereum signer
const ethNetwork = 'goerli'; // Or 'mainnet'
const provider = new AlchemyProvider(ethNetwork, YOUR_ALCHEMY_API_KEY);
const ethSigner = new Wallet(YOUR_PRIVATE_ETH_KEY).connect(provider);

// Create Stark signer
const starkPrivateKey = generateStarkPrivateKey(); // Or retrieve previously generated key
const starkSigner = createStarkSigner(starkPrivateKey);
```
  </TabItem>
  <TabItem value="kotlin" label="Kotlin (JVM) Core SDK">
    Add description, if required.
    <br/><br/>

```kotlin
// Add code
``` 
  </TabItem>
  <TabItem value="Swift" label="Swift Core SDK">
    Add description, if required.
    <br/><br/>

```swift
// Add code
```
  </TabItem>
  <TabItem value="go" label="Golang Core SDK">
    Add description, if required.
    <br/><br/>

```go
// Add code
```
  </TabItem>
</Tabs>

## Connect to users' wallets
Your application can facilitate signing of user transactions by connecting to users' wallet applications. This ensures that you do not have to handle private keys.

| Settlement layer | How?                           |
| ---------------- | ------------------------------ |
| StarkEx          | [Using the Wallet SDK](#using-the-wallet-sdk)           |
| StarkNet         | [Using the get-starknet library](#using-the-get-starknet-library) |

### Using the Wallet SDK
The Wallet SDK provides a way for applications to connect to certain user wallets:
<table>
  <tbody>
    <tr>
      <th>Wallet SDK</th>
      <th>Platform</th>
      <th>Wallets supported</th>
    </tr>
    <tr>
      <td><a href='https://github.com/immutable/imx-wallet-sdk-web/'>Wallet SDK Web</a></td>
      <td>Web</td>
      <td>
        <ul>
          <li>Metamask</li>
          <li>WalletConnect</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td><a href='https://github.com/immutable/imx-wallet-sdk-android/'>Wallet SDK Android</a></td>
      <td>Android</td>
      <td>
        <ul>
          <li>Metamask and Rainbow via Wallet Connect</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<Tabs>
  <TabItem value="typescript" label="Wallet SDK Web">

```ts
import {
  ENVIRONMENTS,
  L1_PROVIDERS,
  WalletSDK,
} from '@imtbl/wallet-sdk-web';

(async () => {
  // Builds the Wallet SDK object
  const sdk = await WalletSDK.build({
    env: ENVIRONMENTS.STAGING,
    /*
      RPC config is only required if the WalletConnect provider (L1_PROVIDERS.WALLET_CONNECT)
      is being used. Follow this reference for the RPC config:
      https://docs.walletconnect.com/quick-start/dapps/web3-provider#provider-options
    */
    rpc: {
      3: 'https://ropsten.mycustomnode.com',
    },
    /*
      Will switch the chain based on this configured chainID when connecting to the wallet.(Optional)
      Following the table below to get the chainID and name mapping. 
      Consult https://chainlist.org/ for more.
      ChainId	| Network
      --- --- | --- --- 
      1	      | Ethereum Main Network (Mainnet)
      3	      | Ropsten Test Network
      5	      | Goerli Test Network
    */
    chainID: 3,
  });

  // Connects on the chosen provider - WalletConnect
  const walletConnection = await sdk.connect({ provider: L1_PROVIDERS.WALLET_CONNECT });
  // For Metamask:
  // const walletConnection = await sdk.connect({ provider: L1_PROVIDERS.METAMASK });
})();
```
  </TabItem>
  <TabItem value="android" label="Wallet SDK Android">
    MetaMask and Rainbow can be connected using this WalletConnect provider.
    <br/><br/>
    If you want to use your own bridge server instead of the default provide it via bridgeServerUrl when connecting. For more info on how WalletConnect and the bridge works <a href="https://docs.walletconnect.com/tech-spec">see here</a>.
    <br/><br/>

```kotlin
ImmutableXWallet.connect(
    Provider.WalletConnect(
        appUrl = "https://www.marketplace.com/",
        appName = "My NFT Marketplace",
        appDescription = "This is a marketplace where all my favorite NFTs can be traded.",
        appIcons = listOf("http://www.marketplace.com/appicon.svg")
    )
)
```
  </TabItem>
</Tabs>

### Using the get-starknet library
Use the [get-starknet](https://github.com/starknet-community-libs/get-starknet) library to implement user wallet connections.