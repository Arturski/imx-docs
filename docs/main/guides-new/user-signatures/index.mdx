---
title: "Obtain user signatures"
slug: "/guides-new/user-signatures"
keywords: [imx-wallets, imx-dx]
---

* [Overview](#overview)
* How to obtain user signatures using:
  * [Core SDK](#obtain-user-signatures-using-the-core-sdk)
  * [Wallet SDK](#obtain-user-signatures-using-the-wallet-sdk)
  * [StarkNet](#obtain-user-signatures-on-starknet)

## Overview

A user signature simply means getting a user's approval for a transaction. 

### What types of transactions require user signatures?
These are the ones that require a state update to the blockchain, as opposed to just reading data. Examples of state updates include changes in asset ownership or moving assets between L1 and L2.

#### Examples of Immutable X functions:
<table>
  <tbody>
    <tr>
      <th>✅ Require user signatures</th>
      <th>❌ Do not require user signatures</th>
    </tr>
    <tr>
      <td>
        <ul>
          <li>Creating an order</li>
          <li>Filling an order (creating a trade)</li>
          <li>Transferring assets between users</li>
          <li>Depositing assets on L2 (Immutable X)</li>
          <li>Withdrawing assets to L1 (Layer 1 Ethereum)</li>
        </ul>
      </td>
      <td>
        <ul>
          <li>Getting a list of all assets on Immutable X</li>
          <li>Getting the details (ie. metadata) of a particular asset</li>
          <li>Getting a list of all open orders</li>
          <li>Getting a list of historical trades</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

### What is involved in getting a user's signature?
Applications need to establish a connection to the user’s wallet (this is also known as getting a “signer”). This is done by prompting a connection request to the user's wallet application (it can be on a different device e.g. connect a mobile wallet to a web game). Once this connection is established the user will be able to approve your signature requests.

Applications can implement this manually, or use our [Wallet SDKs](#platformswallets-currently-supported-by-our-wallet-sdks).

#### Wallet SDKs (and the wallets they support):
<table>
  <tbody>
    <tr>
      <th>Wallet SDK</th>
      <th>Platform</th>
      <th>Wallets supported</th>
    </tr>
    <tr>
      <td><a href='https://github.com/immutable/imx-wallet-sdk-web/'>Wallet SDK Web</a></td>
      <td>Web</td>
      <td>
        <ul>
          <li>Metamask</li>
          <li>WalletConnect</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td><a href='https://github.com/immutable/imx-wallet-sdk-android/'>Wallet SDK Android</a></td>
      <td>Android</td>
      <td>
        <ul>
          <li>Metamask and Rainbow via Wallet Connect</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

## Obtain user signatures using the Core SDK
* [Typescript Core SDK](#typescript-core-sdk)
* [Kotlin (JVM) Core SDK](#kotlin-jvm-core-sdk)
* [Swift Core SDK](#swift-core-sdk)
* [Golang Core SDK](#golang-core-sdk)

### Typescript Core SDK
<!-- From [here](https://github.com/immutable/imx-core-sdk/edit/main/README.md). -->

The Typescript Core SDK provides `WalletConnection`, which is a top-level connector which contains all the required resources (eg. L1 and L2 signers) to enable usage of the Core SDK workflows.

```ts
import { AlchemyProvider } from '@ethersproject/providers';
import { Wallet } from '@ethersproject/wallet';
import { WalletConnection, generateStarkWallet, BaseSigner } from '@imtbl/core-sdk';

// Generate your own WalletConnection
const generateWalletConnection = async (provider: AlchemyProvider) : Promise<WalletConnection> => {
  // L1 credentials
  const l1Signer = Wallet.createRandom().connect(provider);

  // L2 credentials
  const starkWallet = await generateStarkWallet(l1Signer);
  const l2Signer = new BaseSigner(starkWallet.starkKeyPair);

  return {
    l1Signer,
    l2Signer,
  };
};
```

### Kotlin (JVM) Core SDK
<!-- From [here](https://docs.x.immutable.com/sdk-docs/core-sdk-kotlin/sdk-functions#wallet-connection). -->

In order to use any workflow functions, you will need to pass in the connected wallet provider. This means you will need to implement your own Wallet L1 Signer.

Once you have created a Signer instance you can generate the user's Stark key pair and use it to create an instance of StandardStarkSigner, an implementation of StarkSigner.

```java
StarkKey.generate(signer).whenComplete { keyPair, error ->
    val starkSigner = StandardStarkSigner(keyPair)
}
```

### Swift Core SDK
<!-- From [here](https://docs.x.immutable.com/sdk-docs/core-sdk-swift/sdk-functions#wallet-connection). -->

In order to use any workflow functions, you will need to pass in the connected wallet provider. This means you will need to implement your own Wallet L1 [Signer](https://github.com/immutable/imx-core-sdk-swift/blob/main/Sources/ImmutableXCore/Signer.swift) and L2 [StarkSigner](https://github.com/immutable/imx-core-sdk-swift/blob/main/Sources/ImmutableXCore/Signer.swift).

Once you have a `Signer` instance you can generate the user's Stark key pair and use the result to instantiate a StarkSigner, for example, by using the default `StandardStarkSigner` provided by the SDK.

```
let keyPair = try await StarkKey.generateKeyPair(from: signer)
let starkSigner = StandardStarkSigner(pair: keyPair)
```

### Golang Core SDK

## Obtain user signatures using the Wallet SDK
* [Wallet SDK Web](#wallet-sdk-web)
* [Wallet SDK Android](#wallet-sdk-android)

### Wallet SDK Web
<!-- From [here](https://docs.x.immutable.com/sdk-docs/wallet-sdk-web/quickstart). -->

```ts
import {
  ENVIRONMENTS,
  L1_PROVIDERS,
  WalletSDK,
} from '@imtbl/wallet-sdk-web';

(async () => {
  // Builds the Wallet SDK object
  const sdk = await WalletSDK.build({
    env: ENVIRONMENTS.STAGING,
    /*
      RPC config is only required if the WalletConnect provider (L1_PROVIDERS.WALLET_CONNECT)
      is being used. Follow this reference for the RPC config:
      https://docs.walletconnect.com/quick-start/dapps/web3-provider#provider-options
    */
    rpc: {
      3: 'https://ropsten.mycustomnode.com',
    },
    /*
      Will switch the chain based on this configured chainID when connecting to the wallet.(Optional)
      Following the table below to get the chainID and name mapping. 
      Consult https://chainlist.org/ for more.
      ChainId	| Network
      --- --- | --- --- 
      1	      | Ethereum Main Network (Mainnet)
      3	      | Ropsten Test Network
      5	      | Goerli Test Network
    */
    chainID: 3,
  });

  // Connects on the chosen provider - WalletConnect
  const walletConnection = await sdk.connect({ provider: L1_PROVIDERS.WALLET_CONNECT });
  // For Metamask:
  // const walletConnection = await sdk.connect({ provider: L1_PROVIDERS.METAMASK });
})();
```

### Wallet SDK Android
<!-- From [here](https://docs.x.immutable.com/sdk-docs/wallet-sdk-android/quickstart#connect-via-walletconnect). -->

MetaMask and Rainbow can be connected using this WalletConnect provider.

```java
ImmutableXWallet.connect(
    Provider.WalletConnect(
        appUrl = "https://www.marketplace.com/",
        appName = "My NFT Marketplace",
        appDescription = "This is a marketplace where all my favorite NFTs can be traded.",
        appIcons = listOf("http://www.marketplace.com/appicon.svg")
    )
)
```
If you want to use your own bridge server instead of the default provide it via bridgeServerUrl when connecting. For more info on how WalletConnect and the bridge works [see here](https://docs.walletconnect.com/tech-spec).

## Obtain user signatures on StarkNet

Use the [get-starknet](https://github.com/starknet-community-libs/get-starknet) library to implement user wallet connections.