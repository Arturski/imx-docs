---
title: "Typescript"
slug: "/guides-new/user-signatures/typescript"
keywords: [imx-wallets]
---

# Obtain user signatures (Typescript)

## Steps:
1. [Connect to the user's wallet](#1-connect-to-the-users-wallet)
2. [Register the user with the Typescript Core SDK](#2-register-the-user-using-the-typescript-core-sdk)

## 1. Connect to the user's wallet
A connection to a user's L1 wallet is required in order to facilitate the signing of transactions. There are two ways to do this:
1. Build your own wallet connection
2. Use the [Wallet SDK for Web](/sdk-docs/wallet-sdk-web/overview), which triggers a connection to browser wallet providers (currently, the [providers available](https://github.com/immutable/imx-wallet-sdk-web/blob/main/packages/sdk/src/L1Providers/constants.ts) are Metamask and WalletConnect)

### Build your own wallet connection
```typescript
// Add instructions to implement an L1 Wallet Signer

// Once you have created a Signer instance you can generate the user's Stark key pair and use
// it to create an instance of StandardStarkSigner, an implementation of StarkSigner.
StarkKey.generate(signer).whenComplete { keyPair, error ->
    val starkSigner = StandardStarkSigner(keyPair)
}
```

### Use the Wallet SDK Web
```typescript
import {
  ENVIRONMENTS,
  L1_PROVIDERS,
  WalletSDK,
} from '@imtbl/imx-wallet-sdk-web';

(async () => {
  // Builds the Wallet SDK object
  const sdk = await WalletSDK.build({
    env: ENVIRONMENTS.STAGING,
    /*
      RPC config is only required if the WalletConnect provider (L1_PROVIDERS.WALLET_CONNECT)
      is being used. Follow this reference for the RPC config:
      https://docs.walletconnect.com/quick-start/dapps/web3-provider#provider-options
    */
    rpc: {
      3: 'https://ropsten.mycustomnode.com',
    },
  });

  // Connects on the chosen provider - WalletConnect
  const walletConnection = await sdk.connect({ provider: L1_PROVIDERS.WALLET_CONNECT });
  // For Metamask:
  // const walletConnection = await sdk.connect({ provider: L1_PROVIDERS.METAMASK });
})();
```

## 2. Register the user using the Typescript Core SDK
```typescript
import {
  getConfig,
  Workflows,
} from '@imtbl/core-sdk';

// Provides a function to build the Core SDK workflows
function setupCoreSDKWorkflows(): Workflows {
  const coreSdkConfig = getConfig({
    coreContractAddress: '0x4527BE8f31E2ebFbEF4fCADDb5a17447B27d2aef',
    registrationContractAddress: '0x6C21EC8DE44AE44D0992ec3e2d9f1aBb6207D864',
    chainID: 3, // Ropsten
    basePath: 'https://api.ropsten.x.immutable.com',
  });

  return new Workflows(coreSdkConfig);
}

(async () => {
  const coreSdkWorkflows = setupCoreSDKWorkflows();

  await coreSdkWorkflows.registerOffchain(walletConnection);
})();
```