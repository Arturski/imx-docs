---
id: "ethereum-scalability"
title: "Ethereum scalability"
slug: "/ethereum-scalability"
excerpt: "ImmutableX's solution for Ethereum scalability issues"
sidebar_position: 3
keywords:
  - imx-dx
---

확장성은 높은 거래 처리량 및 미래의 성장을 지원하기 위한 블록체인 네트워크의 능력을 나타냅니다. 확장성은 블록체인 네트워크가 합리적으로 중앙화된 플랫폼의 빠른 처리 속도와 경쟁하는 유일한 방식을 나타내기 때문에 중요합니다.

이더리움에서 NFT를 사용, 민팅, 또는 거래하는 사람들은 그것이 느리다는 것을 압니다. 이런 현상이 나타나는 주된 요인은 모든 노드가 네트워크에서 각각의 트랜잭션을 처리해야 한다는 사실입니다. 이것이 해결되지 않는 한, 트랜잭션의 혼잡은 계속해서 증가해 모든 사용자의 대기 시간이 길어지게 될 것입니다.

높은 네트워크 요구량은 가스비의 일관성에도 영향을 미칩니다. 현재 가스비는 네트워크의 요구량에 따라 설정되는데 이는 하루의 시점과 네트워크에 전달되는 트랜잭션의 양에 따라 가스비가 심각하게 변동될 수 있음을 의미합니다. 그것은 각 트랜잭션에 드는 비용의 예측을 거의 불가능하게 만듭니다.

가스비가 높으면 단일 트랜잭션의 비용이 NFT의 가격보다 높아질 수 있어 NFT 시장의 유동성이 현격하게 낮아질 수 있습니다. 이것은 NFT 시장의 성장을 심각하게 저해합니다.

# 레이어1 VS 레이어2

레이어1(L1)은 블록체인을 나타내며 레이어2(L2)는 L1과 함께 작동하여 확장성과 효율성을 개선하는 네트워크 또는 기술을 나타냅니다. 이더리움은 레이어1 블록체인입니다.

레이어1 스케일링 솔루션은 확장성을 제공하기 위해 블록체인 프로토콜 자체의 기본 레이어를 늘립니다. 레이어1 솔루션은 더 많은 사용자와 데이터를 관리하면서 트랜잭션 용량과 속도를 늘리기 위해 프로토콜의 규칙을 변경합니다. 레이어1 스케일링 솔루션은 전반적인 네트워크 처리량을 증가시키기 위해 가령 각 블록에 포함된 데이터의 양을 증가시킨다거나 블록이 확인되는 속도를 높입니다.

레이어2는 기본이 되는 블록체인 프로토콜의 위에서 작동하는 네트워크나 기술을 나타냅니다. 이러한 카테고리의 스케일링 솔루션은 블록체인 프로토콜의 트랜잭션 부담 일부를 근처 시스템 아키텍처로 전환한 다음, 그 시스템 아키텍처가 네트워크의 처리 전면을 처리하고 그 후에만 그 결과를 마무리하기 위해 주요 블록체인으로 다시 보고하여 확장성과 효과성을 개선합니다.

대부분의 데이터 처리를 보조 아키텍처로 추상화함으로써, 기본 레이어 블록체인의 혼잡도는 줄어들고 궁극적으로 확장성이 늘어나게 됩니다.

## 기존 레이어1 솔루션
솔루션들은 확장성 문제를 어느 정도 해결하고 어느 정도의 개선을 제공하지만, 제기되고 경험되는 확장성 문제를 완전히 해결하지는 못합니다. 기존 솔루션에는 다음이 포함됩니다.

## 샤딩(Sharding)
샤딩은 체인 상태를 샤드(조각, shard)라 불리는 작은 칸으로 나누는 것을 포함합니다. 샤드 내부의 노드는 해당 샤드에서 만들어진 모든 트랜잭션을 처리해야 합니다. 각 트랜잭션을 처리해야 하는 노드의 숫자를 줄임으로써, 전반적인 네트워크 처리량을 향상할 수 있습니다. 하지만 샤딩으로 인해 생기는 문제는 '단일점 고장'이 아니며, 이는 네트워크/하드웨어/시스템 문제로 인한 샤드의 변형이 전체 테이블의 고장을 유발할 수 있음을 의미합니다.

## 사이드체인(Side chain)
사이드체인은 자체적인 컨센서스 메커니즘을 가지고 있으며 이는 메인넷에서 보안을 물려받지 않아 훨씬 덜 안전하기에 값비싼 자산을 도난당할 수 있음을 의미합니다. 또한 사이드체인은 **진정으로** 확장할 수 있지 않습니다. 사이드체인은 보안과 검열 리스크가 용량이 늘어남에 따라 증가하기 때문에 상한선에 크게 제한받고 있습니다. 또한 유동성이 떨어져 레이어1과의 상호 운용성이 부족합니다.

## 이더리움 PoS 통합
이전에 Eth2.0으로 알려진 이더리움의 PoS(Proof of Stake, 지분 증명) 통합은 2022년 3분기에 하기로 예정된 중요한 컨센서스 메커니즘 업데이트입니다. 지분 증명으로의 이동은 에너지 사용의 대폭적인 절감, 균일한 블록 시간, 더욱 탄성 있는 네트워크가 예상되며 샤딩이 구현되는 근간을 구축할 것입니다 (https://ethereum.org/en/upgrades/merge/). 하지만 통합 그 자체는 트랜잭션 처리 능력의 측면에서 네트워크를 확장하지 않으며, 이 문제는 훨씬 후로 예정된 샤딩 업데이트에서 해결될 것입니다(2023년 이후).

이더리움에 통합과 샤딩이 구현된 후에도 레이어2는 여전히 진정한 확장성을 가져다 줄 솔루션일 것입니다. 이더리움 재단의 레이어 2에 대한 비전에 대해서는 여기(https://ethereum.org/en/layer-2/)를 읽어 보십시오.

# 기존 레이어2 솔루션

## 스테이트 채널(State Channel)
스테이트 채널은 폐쇄 시스템 안에서 지정된 수의 사용자 사이의 상호작용에 유용한 범용 스케일링 솔루션입니다. 스테이트 채널은 온체인에서 트랜잭션을 열고 닫을 것을 요구하나 모든 중간 상태는 당사자들에게 바로 전송됩니다. 트랜잭션이 오프체인으로 처리된 후 오직 증명만 메인 체인에 제출됩니다.

스테이트 채널의 주된 문제는 마지막 온체인 트랜잭션을 완료하기 위해 오더에 관련된 모든 참가자들이 필요하다는 것입니다. 참가자들은 오프라인일 경우 자신을 대리해 줄 누군가를 사용할 수 있으나 이 3자는 뇌물을 받거나 공격받을 수 있습니다(특히 한 독립체가 전체 생태계를 위해 이 기능을 실행하는 경우). 이는 스테이트 채널의 보안성과 확장성을 모두 제한합니다.

## 플라즈마(Plasma)
플라즈마는 메인체인과 최소한으로 상호 작용하며 (차일드체인에서) 오프체인 트랜잭션에 의존하는 또 다른 오프체인 스케일링 기법입니다. 하지만 플라즈마 체인에서 인출하는 것은 사용자들이 사기를 신고할 수 있는 이의 제기 기간(‘exit game’)의 요구사항이 있어 최대 2주가 소요될 수 있습니다. 이것은 심각한 약점으로 시스템의 사용자 경험에 큰 영향을 미칩니다.

## 롤업(Rollup)
롤업은 그 명칭에서 알 수 있는 것처럼 많은 양의 거래를 큰 배치로 '말아 올린' 다음 해당 배치의 '증명'을 생성합니다. 그 후 이 증명은 각 개별 트랜잭션이 아닌 메인넷에 게시됩니다. 롤업은 최신 스케일링 기술로 이더리움에 관련된 사람들에게 큰 관심의 대상입니다.

롤업은 트랜잭션 실행을 메인 이더리움 체인(레이어1) 밖에서 수행하지만 트랜잭션 데이터는 레이어1에 게시합니다. 트랜잭션 데이터가 레이어1 블록에 포함되기에, 롤업은 레이어1에 의해 안전하게 지켜지고 이더리움의 보안 속성을 물려받게 됩니다. 실행을 레이어1 밖에서 수행하는 것이 롤업의 특성을 정의합니다.

### 옵티미스틱 롤업(Optimistic Rollup)
옵티미스틱 롤업은 각 트랜잭션 배치에 주어지는 증명이 유효하다고 추정하기 때문에 '옵티미스틱(낙관적)'입니다.

미리 지정된 이의 제기 기간(보통 1-2주) 동안, 누구나 제출된 증명에 이의를 제기하고 사기라고 주장할 수 있습니다. 따라서 이러한 것들은 '사기 증명'이라고 불립니다. 옵티미스틱 롤업의 장점은 일반 계산을 쉽게 지원한다는 것입니다. 사용자는 메인넷의 솔리디티 코드(Solidity code)를 복사/붙여넣기 할 수 있습니다. 한편, 옵티미스틱 롤업은 NFT의 확장에 큰 제한을 갖고 있습니다.

먼저 NFT를 빨리 인출할 수 있는 가능성이 없습니다. 시스템에서 NFT를 빼내려면 1-2주를 대기해야 합니다. 두 번째로, 옵티미스틱 롤업은 아주 성공적이며 큰 가치를 포함하고 있어, 옵티미스틱 롤업에서 자금을 훔치는 비용이 잠재적인 절도의 크기와는 관련이 없기에 공격의 대상이 될 수 있습니다. 이것은 NFT 생태계에 있는 이뮤터블과 다른 사용자들이 예상하는 성장의 페널티입니다.

### 영지식 롤업(Zero Knowledge Rollup)
ZK-롤업이라고도 알려져 있는 영지식 롤업은 오프체인에서 수백개의 전송을 하나로 묶거나 '말아 올려' SNARK(Succinct Non-interative ARgument of Knowlegde) 또는 STARK(Scalable Transparent ARgument of Knowledge)라고 알려진 암호 화폐 증명을 생성합니다.

ZK-롤업은 위에서 설명한 사기 증명 대신 '유효성 증명(Validity proofs)'을 사용하며, SNARK나 STARK 중 하나와 수많은 복잡한 수학식을 사용해 롤업에서 트랜잭션의 유효성을 증명합니다. 유효성 증명을 사용한다는 것은 증명이 온체인에서 수용되면 사용자들이 그 트랜잭션들이 유효하며 이제 불변한다는 확인을 즉시 얻게 됨을 의미합니다.

NFT의 맥락에서 이것은 위의 옵티미스틱 롤업에서 발견되는 두 가지 문제를 모두 해결합니다. 사용자들은 즉시 인출할 수 있으며 아무도 시스템을 공격하지 않습니다. 확장성의 측면에서 ZK-롤업은 초당 수천 건의 트랜잭션 속도에 도달할 수 있었으며 앞으로는 더 높은 한도에 도달할 수 있습니다.

현재 ZK-롤업의 단점은 일반 연산입니다. 이것은 스마트 컨트랙트 로직을 롤업에 직접 복사하는 것이 더 어렵기 때문인데, 이는 예를 들어 전송 및 거래와 같은 제한적인 기능만 사용할 수 있음을 의미합니다. 이 문제는 빠르게 해결되고 있습니다.

# The ImmutableX solution
NFT 생태계에는 유동성과 확장성이 절실하게 필요합니다. With ImmutableX, we’re offering that scalability to everyone without forcing applications or users to compromise on the security of their assets. 스케일링 솔루션을 비교하여 이뮤터블에서 핵심적으로 원했던 것은 다음과 같습니다.
* 무제한적 확장성
* 즉각적인 트랜잭션 확인 및 메인스트림 품질의 UX
* 사용자 보안을 손상시키지 않음
* 이더리움의 생태계 및 네트워크 효과에 대한 액세스 유지

This is why ImmutableX is built as a ZK-rollup in partnership with [StarkWare](https://starkware.co/). 이뮤터블은 타협 없이 확장이 가능한 유일한 솔루션이기에 ZK-롤업을 선택했습니다. This means whenever you mint or trade an NFT on ImmutableX, you pay zero gas, and the validity of all transactions are directly enforced by Ethereum’s security using zero-knowledge proofs -- the first “layer 2” for NFTs on Ethereum.


**참고**
1. ZK&옵티미스틱 롤업 - https://ethereum.org/en/developers/docs/scaling/layer-2-rollups/#zk-rollups
2. 레이어1, 레이어2 및 레이어2 스케일링 - https://www.gemini.com/cryptopedia/blockchain-layer-2-network-layer-1-network#section-layer-1-scaling-solutions
